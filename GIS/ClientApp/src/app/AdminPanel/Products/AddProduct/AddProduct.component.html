<form [formGroup]="form">
    <div class="product-detail-page section-gap" *ngFor="let detailData of data">
        <div class="container">
            <div fxLayout='row wrap' fxLayoutAlign="center center" class="col-gap">
                <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md=90 fxFlex.lg="80" fxFlex.xl="90">
                    <div fxLayout='row wrap' class="col-gap position-relative">
                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md=50 fxFlex.lg="50" fxFlex.xl="50">
                            <div fxLayout='row wrap'>
                                <div fxFlex.xs="15" fxFlex.sm="15" fxFlex.md="15" fxFlex.lg="15" fxFlex.xl="15">
                                    <div class="product-detail-image-gallery pr-4">
                                        <mat-grid-list cols="1" rowHeight="1:1" gutterSize="20px">
                                            <mat-grid-tile *ngFor="let img of detailData.image_gallery; let i=index">
                                                <div class="product-image-gallery-item add-icon">
                                                    <a id="{{i}}_img" class="p-link" [ngClass]="{ 'border-active': i === 0 }" href="javascript:void(0)" (mouseenter)="getImagePath(img, i)">
                                                        <img [src]="img" alt="" width="400" height="400">
                                                    </a>
                                                    <button class="add-btn" md-mini-fab type="button" *ngIf="img == 'https://via.placeholder.com/625x800'">
                                                        <label for="fileToUpload">
                                                            <mat-icon >add</mat-icon>
                                                        </label>
                                                    </button>
                                                    <!-- add-btn -->
                                                    <input mat id="fileToUpload" type="file" accept="image/*" style="display:none;" (change)="UploadImage($event.target.files)">
                                                </div>
                                            </mat-grid-tile>
                                        </mat-grid-list>
                                    </div>
                                    <!-- product-detail-image-gallery -->
                                </div>
                                <div fxFlex.xs="85" fxFlex.sm="85" fxFlex.md="85" fxFlex.lg="85" fxFlex.xl="85" class="relative" *ngIf="mainImgPath">

                                    <embryo-ImgZoom [imgSrc]="mainImgPath" imgStyle="width:auto; height:auto;" resultStyle="background-repeat: no-repeat; z-index: 2; position:absolute;
                              -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
                              box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); top: 0;left: 100%;" lensStyle="width:100px; height:100px" containerStyle="">
                                    </embryo-ImgZoom>
                                </div>
                                <!-- relative -->
                            </div>
                        </div>

                        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md=50 fxFlex.lg="50" fxFlex.xl="50">
                            <div class="product-detail-content ml-3">
                                <a class="primary-color font-medium" href="javascript:void(0)" routerLink="/admin-panel/products">Retour vers produits</a>
                                <br />
                                <br />
                                <br />




                                <span class="font-medium"> Ajouter le nom du produit </span>:
                                <h3 class="add-text">
                                    <input matInput formControlName="NomProduit" type="text" placeholder="product Name" autocomplete="off"></h3>
                                <div *ngIf="form.get('NomProduit').hasError('required') && form.get('NomProduit').touched">Ce champ ne doit pas être vide.</div>


                                <span class="font-medium"> Ajouter le prix </span>:
                                <div class="product-detail-price">
                                    <h4 class="accent-color add-text"><input matInput type="number" formControlName="Prix" placeholder="Prix" autocomplete="off"></h4>
                                    <div *ngIf="form.get('Prix').hasError('required') && form.get('Prix').touched">Ce champ ne doit pas être vide.</div>

                                </div>

                                <!-- <span class="font-medium"> Ajouter la remise </span>:
                                <div class="product-detail-price">
                                    <h5 class="accent-color add-text"><input matInput type="number" formControlName="Remise" placeholder="Remise" autocomplete="off"></h5>
                                </div> -->

                                <span class="font-medium"> Ajouter la Marque </span>:
                                <div class="product-detail-price">
                                    <h5 class="primary-color add-text"><input matInput formControlName="Marque" placeholder="Marque" autocomplete="off"></h5>
                                    <div *ngIf="form.get('Marque').hasError('required') && form.get('Marque').touched">Ce champ ne doit pas être vide.</div>

                                </div>

                                <div class="no-style mb-4">
                                    <span class="font-medium"> Disponibilité </span>:
                                    <div class="add-text" fxLayout="row wrap" fxLayoutAlign="start start">

                                        <mat-select class="ml-2" matNativeControl formControlName="Disponible" placeholder="Disponibilité" type="text" autocomplete="off">

                                            <mat-option value="true">Yes</mat-option>
                                            <mat-option value="false">No</mat-option>
                                        </mat-select>
                                    </div>
                                    <div *ngIf="form.get('Disponible').hasError('required') && form.get('Disponible').touched">Ce champ ne doit pas être vide.</div>

                                </div>
                                <div class="no-style mb-4">
                                    <span class="font-medium"> Couleur </span>:
                                    <div class="add-text" fxLayout="row wrap" fxLayoutAlign="start start">

                                        <mat-select class="ml-2" matNativeControl formControlName="Couleur" type="text" placeholder="Color" autocomplete="off">

                                            <mat-option value="Blanc">Blanc</mat-option>
                                            <mat-option value="Noir">Noir</mat-option>
                                            <mat-option value="Doré">Doré</mat-option>
                                            <mat-option value="Silver">Gris</mat-option>
                                            <mat-option value="Rouge">Rouge</mat-option>
                                            <mat-option value="Jaune">Jaune</mat-option>
                                            <mat-option value="Vert">Vert</mat-option>
                                            <mat-option value="Bleu">Bleu</mat-option>
                                            <mat-option value="orange">orange</mat-option>
                                            <mat-option value="Rose">Rose</mat-option>
                                            <mat-option value="Marron">Marron</mat-option>
                                            <mat-option value="Violet">Violet</mat-option>
                                        </mat-select>
                                        <div *ngIf="form.get('Couleur').hasError('required') && form.get('Couleur').touched">Ce champ ne doit pas être vide.</div>

                                    </div>

                                </div>
                                <div class="short-des">
                                    <span class="font-medium"> Ajouter Description </span>:
                                    <p class="add-text"><textarea matInput formControlName="Description" placeholder="Description" autocomplete="off"></textarea></p>
                                    <div *ngIf="form.get('Description').hasError('required') && form.get('Description').touched">Ce champ ne doit pas être vide.</div>

                                </div>
                                <div>
                                    <span class="font-medium"> Ajouter le nom du Sous Categorie </span>:
                                    <p class="add-text">
                                        <mat-select matNativeControl formControlName="IdScat" placeholder="Sous categorie List">
                                            <mat-option *ngFor="let souscategorie of souscategories" [value]="souscategorie.IdScat">{{ souscategorie.NsousCategorie }}</mat-option>

                                        </mat-select>

                                    </p>
                                </div>
                                <div *ngIf="form.get('IdScat').hasError('required') && form.get('IdScat').touched">Ce champ ne doit pas être vide.</div>
                                <div class="mb-5 detail-btns">
                                    <button mat-raised-button color="accent" class="button-lg mr-3" [disabled]="form.invalid || addProductBtnDisa" (click)="onSubmit()">Creer</button>
                                    <button class="button-lg" (click)="Discard()" mat-raised-button>Annuler</button>
                                </div>
                            </div>
                            <!-- product-detail-content -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- product-detail-page -->
</form>