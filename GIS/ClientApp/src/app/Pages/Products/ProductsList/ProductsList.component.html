<mat-card class="py-4 pb-3" style="margin: 10px">
    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="30" fxFlex.lg="30" fxFlex.xl="30">
            <div class="pr-3">
                <div class="dash-title">Search</div>
            </div>
        </div>
        <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="70" fxFlex.lg="70" fxFlex.xl="70">
            <div fxLayout="row wrap">
                <div class="form-group pr-3" fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="calc(100% - 300px)" fxFlex.lg="calc(100% - 300px)" fxFlex.xl="calc(100% - 300px)">
                    <mat-form-field class="w-100" floatLabel="never">
                        <!-- <input matInput placeholder="Search Products" (keyup)="applyFilter($event.target.value,$event.code)"> -->
                        <input matInput placeholder="Search Products" [(ngModel)]="filterValue">
                    </mat-form-field>
                </div>
                <!-- form-group -->
                <div class="contact-btn" fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="300px" fxFlex.lg="300px" fxFlex.xl="300px">
                    <!-- <button class="mr-2 mb-2" mat-raised-button color="primary">Search</button> -->
                    <button mat-raised-button color="primary" (click)="applyFilter()">Search</button>
                </div>
                <!-- contact-btn -->
            </div>
        </div>
    </div>
</mat-card>

<ng-container>
    <ng-container *ngIf="productsGrid && productsGrid.length >= 0 && length!=0; else elseBlock">
        <div fxLayout="row wrap">
            <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="35" fxFlex.lg="25" fxFlex.xl="25">
                <!-- <div fxLayout="row wrap" fxLayoutAlign="start stretch" *ngIf="productsGrid && productsGrid.length>0">
            <div fxFlex.gt-md="25" fxFlex.gt-sm="50" fxFlex.gt-xs="50" fxFlex="40"> -->

                <!-- Brand Filter Card -->
                <mat-card class="product-card" style="margin: 10px">
                    <h5>Brand :</h5>
                    <mat-divider></mat-divider>
                    <mat-selection-list #list [(ngModel)]="selectedBrands" (ngModelChange)="onselectBrand()">
                        <mat-list-option *ngFor="let brand of brandsOfProducts" [value]="brand">
                            {{brand}}
                        </mat-list-option>
                    </mat-selection-list>

                    <!-- <p>
                        Options selected: {{brands.selectedOptions.selected.length}}
                    </p> -->
                </mat-card>


                <!-- Categorie Filter Card -->
                <mat-card class="product-card" style="margin: 10px">
                    <h5>Show Results For :</h5>
                    <mat-divider></mat-divider>
                    <mat-accordion *ngFor="let categorie of categoriesdtopsimple">
                        <mat-expansion-panel style="margin-bottom: 5px" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                            <mat-expansion-panel-header>
                                <mat-panel-title>
                                    {{categorie?.CategName}}
                                </mat-panel-title>
                                <mat-panel-description>
                                    <!-- description -->
                                </mat-panel-description>
                            </mat-expansion-panel-header>
                            <ul *ngFor="let souscat of categorie.SousCategs" (click)="onselectCategorie(souscat)">
                                <li href="" style="cursor: pointer;"> {{souscat}}</li>
                            </ul>

                        </mat-expansion-panel>
                    </mat-accordion>
                </mat-card>

                <!-- slide********************* -->
                <mat-card class="product-card" style="margin: 10px">
                    <mat-slider thumbLabel [displayWith]="formatLabel" tickInterval="1000" min="1" max="100000"></mat-slider>
                </mat-card>


            </div>
            <!-- <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="100" fxFlex.lg="75" fxFlex.xl="75" *ngFor="let product of cardsObs | async; let i=index;"> -->


            <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.gt-md="25" fxFlex.gt-sm="50" fxFlex.gt-xs="50" fxFlex="70" *ngFor="let product of cardsObs | async; let i=index;">
                <mat-card class="product-card" style="margin: 10px">
                    <a class="p-link">
                        <!-- <img width="626" height="800" mat-card-image [src]="product?.image" alt="Photo of a Shiba Inu"> -->
                        <!-- <img width="626" height="800" mat-card-image src="https://t4.ftcdn.net/jpg/01/82/35/11/240_F_182351193_5mOBsDX7ntLaGixDlIFIJ8LeaJemGLAC.jpg" alt="Photo of a Shiba Inu"> -->
                        <img (click)="productPage(product.IdProd,product.Marque)" width="626px" height="300px" mat-card-image [src]="product?.FrontImg" alt="Photo of a Shiba Inu">
                    </a>

                    <!-- wishlist-icon-->
                    <mat-card-content class="product-content relative">
                        <h5><a class="title-link">{{product.NomProduit || null}}</a> </h5>
                        <!-- <p class="category-wrap mb-2">{{product?.NsousCategorie || null}}</p> -->
                        <p class="category-wrap mb-2">{{product?.Marque || null}}</p>
                        <div class="product-price">
                            <div fxFlex fxLayoutAlign="space-between">
                                <h6 class="accent-color">{{product?.Prix | currency}}</h6>
                            </div>
                        </div>
                        <!--product-price-->
                        <div class="m-icon">
                            <button mat-fab (click)="productPage(product.IdProd,product.Marque)"><i class="material-icons">remove_red_eye</i></button>
                        </div>
                        <!-- m-icon -->
                    </mat-card-content>
                    <!-- product-content -->

                </mat-card>
            </div>
        </div>

        <mat-paginator [pageSize]="pageSize" [length]="length" [pageSizeOptions]="pageSizeOptions" (page)="onPage($event)"></mat-paginator>
    </ng-container>
</ng-container>
<ng-template #elseBlock>
    <h5 class="ml-5">No product found</h5>
</ng-template>